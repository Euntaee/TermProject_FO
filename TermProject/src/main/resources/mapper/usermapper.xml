<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.project.demo.dao.UserDAO">
    <!-- 아이디 존재여부 확인 -->
	<select id="userIdCount" resultType="int" parameterType="String">
		SELECT COUNT(*)		     
		FROM user
		WHERE user_id= #{user_id}
    </select>
    
    <!-- 해당 아이디의 비밀번호 확인 -->
    <select id="userGetPassword" resultType="com.project.demo.vo.UserVO" parameterType="String">
		SELECT user_pwd, user_name		     
		FROM user
		WHERE user_id= #{user_id}
    </select>
    
    <!-- 회원가입 -->
    <insert id="userInsert" parameterType="com.project.demo.vo.UserVO">
       INSERT INTO 
        user (user_id, user_pwd, user_name, user_date, user_addr1, user_email, user_phone)
       VALUES (#{userId},#{userPwd},#{userName},#{userDate},#{userAddr1},#{userEmail},#{userPhone})
    </insert>
    
    <!-- 회원정보 -->
    <select id="selectUserInfo" resultType="com.project.demo.vo.UserVO" parameterType="String">
       SELECT 
        user_id,        
        user_name,
        user_date,
        user_addr1,
        user_email,
        user_phone
       FROM user
       WHERE user_id=#{user_id}
    </select>
    
    <!-- 비밀번호 변경 -->
    <update id="changPwd" parameterType="java.util.Map">
    <![CDATA[
       UPDATE user       
       SET 
       user_pwd = #{user_pwd},
       user_email= #{user_email},
       user_phone= #{user_phone},
       user_addr1= #{user_addr1}
       WHERE user_id = #{user_id}      
     ]]>
    </update>    
    
    <delete id="deleteUser" parameterType="java.util.Map">
    DELETE FROM user
    WHERE user_id = #{user_id}
    </delete>
</mapper>      